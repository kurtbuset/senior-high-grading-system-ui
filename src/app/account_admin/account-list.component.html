<div class="d-flex justify-content-between align-items-center mb-4">
  <h5 class="mb-0">All Accounts</h5>
  <a routerLink="add" class="btn btn-primary">
    <i class="bi bi-plus-circle me-2"></i>Add New Account
  </a>
</div>

<div *ngIf="loading" class="text-center">
  <div class="spinner-border" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
</div>

<div *ngIf="!loading && accounts.length === 0" class="alert alert-info">
  <i class="bi bi-info-circle me-2"></i>No accounts found.
</div>

<div *ngIf="!loading && accounts.length > 0" class="table-responsive">
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Email</th>
        <th>Role</th>
        <th>Status</th>
        <th>LRN Number</th>
        <th>School Year</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let account of accounts">
        <td>{{ account.id }}</td>
        <td>{{ account.firstName }} {{ account.lastName }}</td>
        <td>{{ account.email }}</td>
        <td>
          <span [class]="getRoleBadgeClass(account.role)">
            {{ account.role }}
          </span>
        </td>
        <td>
          <span class="badge" [class]="account.isActive ? 'bg-success' : 'bg-danger'">
            {{ account.isActive ? 'Active' : 'Inactive' }}
          </span>
        </td>
        <td>{{ account.lrn_number || 'N/A' }}</td>
        <td>{{ account.school_year || 'N/A' }}</td>
        <td>
          <div class="btn-group" role="group">
            <a [routerLink]="['edit', account.id]" class="btn btn-sm btn-outline-primary">
              <i class="bi bi-pencil"></i>
            </a>
            <button 
              type="button" 
              class="btn btn-sm btn-outline-danger"
              (click)="deleteAccount(account.id)"
            >
              <i class="bi bi-trash"></i>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
